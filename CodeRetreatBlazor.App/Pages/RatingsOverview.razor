@page "/ratings"


<button type="button" class="btn btn-primary btn-lg btn-block w-100" @onclick="GetChallenges">Refresh Ratings</button>
@if (@Challenges != null)
{
	@foreach (var challenge in Challenges)
	{
		<div class="card">
			<div class="card-body">
				<h5 class="card-title">@challenge.Name</h5>
				<ul class="list-group list-group-horizontal">
					<li class="list-group-item flex-fill w-25">Name</li>
					<li class="list-group-item flex-fill w-25">Attempts</li>
					<li class="list-group-item flex-fill w-25">Start Time</li>
					<li class="list-group-item flex-fill w-25">End Time</li>
				</ul>


				@foreach (var score in @challenge.Scores)
				{
					<ul class="list-group list-group-horizontal">

						@if (score.EndTime == DateTime.MinValue)
						{
							<li class="list-group-item flex-fill list-group-item-dark w-25">@score.Team.Name</li>
							<li class="list-group-item flex-fill list-group-item-dark w-25">@score.Attempts</li>
							<li class="list-group-item flex-fill list-group-item-dark w-25">@score.StartTime</li>
							<li class="list-group-item flex-fill list-group-item-dark w-25"></li>
						}
						else
						{
							<li class="list-group-item flex-fill list-group-item-success w-25">@score.Team.Name</li>
							<li class="list-group-item flex-fill list-group-item-success w-25">@score.Attempts</li>
							<li class="list-group-item flex-fill list-group-item-success w-25">@score.StartTime</li>
							<li class="list-group-item flex-fill list-group-item-success w-25">@score.EndTime</li>
						}
					</ul>
				}
			</div>
		</div>

	}
}
else
{
	<h1>Loading...</h1>
	<h3>Loading...</h3>
}
